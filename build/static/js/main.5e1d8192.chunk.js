(this["webpackJsonpdmv-halal"]=this["webpackJsonpdmv-halal"]||[]).push([[0],{48:function(e,a,t){e.exports=t(89)},53:function(e,a,t){},55:function(e,a,t){},64:function(e,a,t){e.exports=t.p+"static/media/loading.d4a6cb24.gif"},89:function(e,a,t){"use strict";t.r(a);var n=t(0),l=t.n(n),r=t(22),s=t.n(r),i=(t(53),t(26)),c=t.n(i),o=t(43),m=t(11),u=t(12),d=t(14),h=t(13),E=t(7),p=t(15),v=(t(55),t(90)),g=t(91),f=t(17),y=t(20),b=t.n(y),C=t(44),k=t.n(C),w=function(e){function a(){var e,t;Object(m.a)(this,a);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(t=Object(d.a)(this,(e=Object(h.a)(a)).call.apply(e,[this].concat(l)))).handleClick=function(){t.props.handleClick(t.props.data),t.props.history.push("/details/".concat(t.props.data.restaurantid))},t}return Object(p.a)(a,e),Object(u.a)(a,[{key:"render",value:function(){var e=this.props,a="".concat(e.data.address," ").concat(e.data.city," ").concat(e.data.state," ").concat(e.data.zip);return l.a.createElement(k.a,{className:"p-3 h-100"},l.a.createElement(v.a,{className:"shadow-lg p-3 bg-white rounded h-100",id:e.data.restaurantid,onClick:this.handleClick},l.a.createElement("h5",{className:"card-title text-center"},e.data.restaurant),l.a.createElement(g.a,null,e.data.rating>0?l.a.createElement(b.a,{emptyStarColor:"gray",name:"ResaurantRatingCard",value:e.data.rating,editable:!1}):null),e.data.cuisine?l.a.createElement(g.a,null,"Cuisine: ",e.data.cuisine):l.a.createElement(g.a,null,"Cuisine: Not Available"),e.data.phone?l.a.createElement(g.a,null,"Phone: ",e.data.phone):l.a.createElement(g.a,null,"Phone: Not Available"),e.data.address?l.a.createElement(g.a,null,"Address: ",a):l.a.createElement(g.a,null,"Address: Not Available")))}}]),a}(l.a.Component),S=Object(f.f)(w),z=t(92),N=t(93),j=t(94),R=function(e){function a(e){var t;return Object(m.a)(this,a),(t=Object(d.a)(this,Object(h.a)(a).call(this,e))).handleSearchChange=function(e){t.props.filterName(e.target.value)},t.state={},t}return Object(p.a)(a,e),Object(u.a)(a,[{key:"render",value:function(){var e=this,a=[];return a=void 0===this.props.state.filteredRestaurants?this.props.state.list.map((function(a,t){return l.a.createElement(z.a,{lg:{size:4},key:t},l.a.createElement(S,{key:t,data:a,handleClick:e.props.handleClick}))})):this.props.state.filteredRestaurants.map((function(a,t){return l.a.createElement(z.a,{lg:{size:4},key:t},l.a.createElement(S,{key:t,data:a,handleClick:e.props.handleClick}))})),l.a.createElement(N.a,{className:"Locations"},l.a.createElement(j.a,null,l.a.createElement(z.a,{lg:{size:12}},l.a.createElement("div",{className:"input-group"},l.a.createElement("div",{className:"input-group-prepend"},l.a.createElement("span",{className:"input-group-text",id:"basic-addon1"},"Search: ")),l.a.createElement("input",{className:"form-control",onChange:this.handleSearchChange})))),l.a.createElement(j.a,{className:"mt-2 mb-5 d-flex justify-content-center"},this.props.state.homePageLoaded?a:l.a.createElement("img",{src:t(64)})))}}]),a}(l.a.Component),M=t(19),O=t.n(M),x=t(95),A=t(96),P=t(97),L=t(98),D=t(99),T=t(100),q="13v4yjfvyi.execute-api.us-east-1.amazonaws.com",B=function(e){function a(e){var t;return Object(m.a)(this,a),(t=Object(d.a)(this,Object(h.a)(a).call(this,e))).handleChange=function(e){t.setState({comment:e.target.value})},t.handleSubmit=function(e){t.state.comment.length<4?(e.preventDefault(),t.setState({displayCommentMessage:!0,displayRatingMessage:!1})):t.state.reviewRating<1?(e.preventDefault(),t.setState({displayCommentMessage:!1,displayRatingMessage:!0})):(e.preventDefault(),t.setState({showButton:!1}),O.a.post("https://".concat(q,"/addCommentToRestaurant"),{data:t.state.details,comment:t.state.comment,rating:t.state.reviewRating,createdAt:(new Date).toLocaleString()}).then((function(e){t.setState({successMessage:!0,displayCommentMessage:!1,displayRatingMessage:!1})})).catch((function(e){t.props.history.push("/restaurants"),console.log(e)})))},t.state={showButton:!0,successMessage:!1,detailsLoaded:!1,displayRatingMessage:!1,displayCommentMessage:!1,reviewRating:0,comment:"",details:{name:"",Reviews:[{comment:"No Reviews"}]}},t}return Object(p.a)(a,e),Object(u.a)(a,[{key:"componentDidMount",value:function(){var e=this;void 0!==this.props.details.restaurant?this.setState({details:this.props.details,detailsLoaded:!0}):O.a.get("https://".concat(q,"/restaurant/").concat(this.props.match.params.id)).then((function(a){return void 0===a.data.Item||"SequelizeError"===a.data.name?(e.props.history.push("/restaurants"),a.data.Item[0]):(e.setState({details:a.data.Item,detailsLoaded:!0}),a.data.Item)})).catch((function(a){e.props.history.push("/restaurants")}))}},{key:"onStarClick",value:function(e,a,t){this.setState({reviewRating:e})}},{key:"render",value:function(){var e=this.state.reviewRating,a=l.a.createElement("div",null);return this.state.detailsLoaded&&(a=this.state.details.reviews.map((function(e,a){var t=e.createdAt;return e.approved?l.a.createElement("div",{key:a,className:"my-2 mx-2"},l.a.createElement(j.a,{className:"d-flex justify-content-center"},l.a.createElement(z.a,{lg:{size:9}},l.a.createElement(v.a,null,l.a.createElement(N.a,{className:"mx-2 my-2"},l.a.createElement(x.a,null,l.a.createElement("h4",null,"Review ",a+1)),l.a.createElement(g.a,null,l.a.createElement(j.a,null,"Rating: ",l.a.createElement(b.a,{emptyStarColor:"gray",value:e.rating,editable:!1,name:"reviewRating".concat(a)}))),l.a.createElement(A.a,null,l.a.createElement("h5",null,e.comment)),l.a.createElement("p",null,t)))))):l.a.createElement("div",null)}))),this.state.detailsLoaded?l.a.createElement(N.a,null,l.a.createElement(j.a,null,l.a.createElement(z.a,{lg:{size:12}},l.a.createElement("h1",null,this.state.details.restaurant)),l.a.createElement(z.a,{lg:{size:4}},l.a.createElement(b.a,{className:"RestaurantRating",name:"ResaurantRating",emptyStarColor:"gray",value:this.state.details.rating,editable:!1})),l.a.createElement(z.a,{lg:{size:8}},this.state.details.url?l.a.createElement(P.a,{target:"_blank",href:this.state.details.url},"Visit Website"):null)),l.a.createElement(j.a,null,l.a.createElement(z.a,{lg:{size:12}},this.state.details.cuisine?l.a.createElement("h3",null,"Cuisine: ",this.state.details.cuisine):null),l.a.createElement(z.a,{lg:{size:12}},l.a.createElement("h3",null,"Address: ",l.a.createElement("a",{href:"https://maps.google.com/?q=".concat(this.state.details.address)},this.state.details.address))),l.a.createElement(z.a,{lg:{size:12}},this.state.details.phone?l.a.createElement("h3",null,"Phone: ",this.state.details.phone):null),l.a.createElement(z.a,{lg:{size:12}},this.state.details.type?l.a.createElement("h3",null,"Category: ",this.state.details.type):null)),l.a.createElement("div",{id:"details_page_review_section"},l.a.createElement(N.a,null,l.a.createElement(j.a,null,l.a.createElement(z.a,{lg:{size:12}},l.a.createElement("h3",null,"Reviews:"))),l.a.createElement(j.a,{className:"d-flex justify-content-center"},l.a.createElement(z.a,{lg:{size:9}},l.a.createElement(v.a,null,l.a.createElement(N.a,{className:"mx-2 my-2"},l.a.createElement(x.a,null,l.a.createElement("h6",null,"Leave a Review: ")),l.a.createElement(z.a,null,l.a.createElement(j.a,null,"Rating: ",l.a.createElement(b.a,{name:"reviewRating",starCount:5,value:e,onStarClick:this.onStarClick.bind(this)}))),l.a.createElement(L.a,{onSubmit:this.handleSubmit,onChange:this.handleChange},l.a.createElement(D.a,null,l.a.createElement(T.a,{type:"textarea",placeholder:"How was your experience at ".concat(this.state.details.restaurant)}),this.state.displayCommentMessage?l.a.createElement("h6",null,"Comment must be at least 4 characters!"):null,this.state.displayRatingMessage?l.a.createElement("h6",null,"Rating must have at least 1 star!"):null,this.state.successMessage?l.a.createElement("h6",null,"Thank you for your feedback! Pending approval..."):null,this.state.showButton?l.a.createElement(P.a,{className:"my-2",name:"reviewButton"},"Submit"):null)))))),a))):l.a.createElement("p",null,"Loading...")}}]),a}(l.a.Component),I=Object(f.f)(B),F=t(107),V=t(101),Z="13v4yjfvyi.execute-api.us-east-1.amazonaws.com",_=function(e){function a(e){var t;return Object(m.a)(this,a),(t=Object(d.a)(this,Object(h.a)(a).call(this,e))).handleformSubmit=function(e){t.setState({showMessage:!0,showButton:!1}),e.preventDefault();var a={restaurant:e.target.Name.value,cuisine:e.target.Cuisine.value,region:e.target.State.value,address:e.target.Address.value,city:e.target.City.value,state:e.target.State.value,zip:e.target.Zip.value,phone:e.target.Phone.value,type:e.target.Type.value},n={url:"https://".concat(Z,"/addRestaurant"),method:"post",data:a};O()(n).then((function(e){console.log("Thank you for your submission!"),t.setState({showErrorMessage:!1})})).catch((function(e){console.log("Oh no, we ran into an issue with your submission"),t.setState({showErrorMessage:!0})}))},t.state={showMessage:!1,showErrorMessage:!1,showButton:!0},t}return Object(p.a)(a,e),Object(u.a)(a,[{key:"render",value:function(){return l.a.createElement(N.a,{className:"addRestaurant"},l.a.createElement(j.a,null,this.state.showErrorMessage?l.a.createElement(F.a,{color:"danger"},"Sorry, we couldn't process your request "):l.a.createElement("div",null),this.state.showMessage?l.a.createElement(z.a,null,l.a.createElement(F.a,{color:"success"},"Thank you, we'll add your submission upon review!")):l.a.createElement("div",null)),l.a.createElement(L.a,{onSubmit:this.handleformSubmit.bind(this)},l.a.createElement(D.a,null,l.a.createElement(j.a,null,l.a.createElement(z.a,{sm:{size:3}},l.a.createElement(V.a,{for:"Name"},"Name: ")),l.a.createElement(z.a,{sm:{size:9}},l.a.createElement(T.a,{required:!0,type:"text",name:"Name",id:"restaurantName",placeholder:"required"})))),l.a.createElement(D.a,null,l.a.createElement(j.a,null,l.a.createElement(z.a,{sm:{size:3}},l.a.createElement(V.a,{for:"Address"},"Street Address: ")),l.a.createElement(z.a,{sm:{size:9}},l.a.createElement(T.a,{required:!0,type:"text",name:"Address",id:"restaurantAddress",placeholder:"required"})))),l.a.createElement(D.a,null,l.a.createElement(j.a,null,l.a.createElement(z.a,{sm:{size:3}},l.a.createElement(V.a,{for:"City"},"City: ")),l.a.createElement(z.a,{sm:{size:9}},l.a.createElement(T.a,{required:!0,type:"text",name:"City",id:"restaurantCity",placeholder:"required"})))),l.a.createElement(D.a,null,l.a.createElement(j.a,null,l.a.createElement(z.a,{sm:{size:3}},l.a.createElement(V.a,{for:"Zip"},"Zip: ")),l.a.createElement(z.a,{sm:{size:9}},l.a.createElement(T.a,{required:!0,type:"number",name:"Zip",id:"restaurantPhone",placeholder:"required"})))),l.a.createElement(D.a,null,l.a.createElement(j.a,null,l.a.createElement(z.a,{sm:{size:3}},l.a.createElement(V.a,{for:"State"},"State: ")),l.a.createElement(z.a,{sm:{size:9}},l.a.createElement("select",{required:!0,name:"State",className:"form-control"},l.a.createElement("option",{defaultValue:!0},"State"),l.a.createElement("option",{value:"MD"},"Maryland"),l.a.createElement("option",{value:"VA"},"Virgina"),l.a.createElement("option",{value:"DC"},"Washington D.C."))))),l.a.createElement(D.a,null,l.a.createElement(j.a,null,l.a.createElement(z.a,{sm:{size:3}},l.a.createElement(V.a,{for:"Phone"},"Phone: ")),l.a.createElement(z.a,{sm:{size:9}},l.a.createElement(T.a,{type:"text",name:"Phone",id:"restaurantPhone",placeholder:"optional"})))),l.a.createElement(D.a,null,l.a.createElement(j.a,null,l.a.createElement(z.a,{sm:{size:3}},l.a.createElement(V.a,{for:"Type"},"Type: ")),l.a.createElement(z.a,{sm:{size:9}},l.a.createElement("select",{name:"Type",className:"form-control"},l.a.createElement("option",{value:"Quick Bite"},"Quick Bite"),l.a.createElement("option",{value:"Family/Casual"},"Family/Casual"),l.a.createElement("option",{value:"Semi-Formal"},"Semi-Formal"),l.a.createElement("option",{value:"Formal"},"Formal"))))),l.a.createElement(D.a,null,l.a.createElement(j.a,null,l.a.createElement(z.a,{sm:{size:3}},l.a.createElement(V.a,{for:"Cuisine"},"Cuisine: ")),l.a.createElement(z.a,{sm:{size:9}},l.a.createElement("select",{name:"Cuisine",className:"form-control"},l.a.createElement("option",{value:"Afghan"},"Afghan"),l.a.createElement("option",{value:"American"},"American"),l.a.createElement("option",{value:"American/Indian"},"American/Indian"),l.a.createElement("option",{value:"American/Pizza"},"American/Pizza"),l.a.createElement("option",{value:"Bakery"},"Bakery"),l.a.createElement("option",{value:"Chinese"},"Chinese"),l.a.createElement("option",{value:"Danish"},"Danish"),l.a.createElement("option",{value:"Greek"},"Greek"),l.a.createElement("option",{value:"Indian"},"Indian"),l.a.createElement("option",{value:"Lebanese"},"Lebanese"),l.a.createElement("option",{value:"Mediterranean"},"Mediterranean"),l.a.createElement("option",{value:"Mexican"},"Mexican"),l.a.createElement("option",{value:"Tex Mex"},"Tex Mex"),l.a.createElement("option",{value:"Middle Eastern"},"Middle Eastern"),l.a.createElement("option",{value:"Moroccan"},"Moroccan"),l.a.createElement("option",{value:"Nepalese"},"Nepalese"),l.a.createElement("option",{value:"Pakistani"},"Pakistani"),l.a.createElement("option",{value:"Afghan"},"Afghan"),l.a.createElement("option",{value:"Persian"},"Persian"),l.a.createElement("option",{value:"Peruvian"},"Peruvian"),l.a.createElement("option",{value:"Portuguese"},"Portuguese"),l.a.createElement("option",{value:"Thai"},"Thai"),l.a.createElement("option",{value:"Turkish"},"Turkish"),l.a.createElement("option",{value:"Uighur"},"Uighur"))))),l.a.createElement(D.a,null,l.a.createElement(j.a,null,l.a.createElement(z.a,{sm:{size:3}},l.a.createElement(V.a,{for:"url"},"Website Link: ")),l.a.createElement(z.a,{sm:{size:9}},l.a.createElement(T.a,{name:"url",type:"text",placeholder:"optional"})))),l.a.createElement(z.a,{className:"d-flex justify-content-center"},this.state.showButton?l.a.createElement(P.a,{className:"btn"},"submit"):null)))}}]),a}(l.a.Component),W=t(47),G=t(102),H=t(103),J=t(104),Q=t(105),U=t(106),K=function(e){var a=Object(n.useState)(!1),t=Object(W.a)(a,2),r=t[0],s=t[1];return l.a.createElement("div",null,l.a.createElement(G.a,{color:"dark",dark:!0,expand:"md",id:"navbar"},l.a.createElement(H.a,{href:"/"},"DMV Halal Reviews"),l.a.createElement(J.a,{onClick:function(){return s(!r)}}),l.a.createElement(Q.a,{isOpen:r,navbar:!0},l.a.createElement(U.a,{className:"mr-auto",navbar:!0}))))},X=t(23),Y=function(e){function a(e){var t;return Object(m.a)(this,a),(t=Object(d.a)(this,Object(h.a)(a).call(this,e))).filterName=function(e){var a=t.state.list;a=a.filter((function(a){return a.restaurant.toLowerCase().includes(e.toLowerCase())})),t.setState({filteredRestaurants:a})},t.handleClick=function(e){t.setState({details:e,filteredRestaurants:t.state.list})},t.renderLocations=function(){return l.a.createElement(R,{state:t.state,handleClick:t.handleClick,filterName:t.filterName})},t.renderDetails=function(e){return l.a.createElement(I,{details:t.state.details,match:e.match.params.id})},t.renderAddRestaurant=function(){return l.a.createElement(_,null)},t.state={list:[],details:{},homePageLoaded:!1,error:!1},t.renderDetails=t.renderDetails.bind(Object(E.a)(t)),t}return Object(p.a)(a,e),Object(u.a)(a,[{key:"componentDidMount",value:function(){var e=Object(o.a)(c.a.mark((function e(){var a=this;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:O.a.get("https://".concat("13v4yjfvyi.execute-api.us-east-1.amazonaws.com","/restaurant")).then((function(e){var t=e.data.filter((function(e){return a.setState({homePageLoaded:!0}),e}));a.setState({list:t})})).catch((function(e){a.setState({homePageLoaded:!0,error:!0}),console.log(e)}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"search",value:function(e,a,t){for(var n=0;n<t.length;n++)if(t[n][a]===e)return t[n]}},{key:"render",value:function(){return l.a.createElement("div",{className:"App"},l.a.createElement(X.a,null,l.a.createElement(K,{props:this.search}),l.a.createElement(N.a,null,l.a.createElement("div",null,l.a.createElement(f.c,null,l.a.createElement(f.a,{exact:!0,path:"/details/:id",component:this.renderDetails}),l.a.createElement(f.a,{path:"/addRestaurant",component:this.renderAddRestaurant}),l.a.createElement(f.a,{path:"/",component:this.renderLocations}))))))}}]),a}(l.a.Component);t(88);s.a.render(l.a.createElement(Y,null),document.getElementById("root"))}},[[48,1,2]]]);
//# sourceMappingURL=main.5e1d8192.chunk.js.map